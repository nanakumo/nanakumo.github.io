{
    "version": "https://jsonfeed.org/version/1",
    "title": "この夏に🎇",
    "subtitle": "猫和甜品，夏天和你。",
    "icon": "https://nanakumo.github.io/images/favicon.ico",
    "description": "让我们在光明的世界相遇。",
    "home_page_url": "https://nanakumo.github.io",
    "items": [
        {
            "id": "https://nanakumo.github.io/2023/08/28/WASTED%20LOVE/",
            "url": "https://nanakumo.github.io/2023/08/28/WASTED%20LOVE/",
            "title": "WASTED LOVE",
            "date_published": "2023-08-28T14:37:38.604Z",
            "content_html": "<p>喵喵喵！歌词翻译 3 回目！这次挑战一下小黄歌喵～<br />\n 依旧随心所欲的意译预警喵喵喵！</p>\n<p><span id=\"more\"></span></p>\n<h1 id=\"前言\"><a class=\"anchor\" href=\"#前言\">#</a> 前言</h1>\n<p>是饭<span class=\"red\">民工系</span>时听过的歌。<s>别说了，我现在网盘里都还有登坂広臣的高清果照喵喵喵！</s></p>\n<h1 id=\"视频\"><a class=\"anchor\" href=\"#视频\">#</a> 视频</h1>\n<p><s>以前翻译过的歌也放在了列表里</s></p>\n<p><div class=\"media-container\"><div class=\"player\" data-type=\"video\" data-src='[{\"name\":\"WASTED LOVE\",\"url\":\"https://yewtu.be/latest_version?id=k6D5vOUKNkE&itag=22&hmac_key=bde4976e597dad77a45eca0bff7766485342943a\"},{\"name\":\"晴ときどき曇\",\"url\":\"https://yewtu.be/latest_version?id=IuAODcEqYSM&itag=22&hmac_key=1ed9417c31249913716447bded9366af91870790&local=true\"},{\"name\":\"語るなら未来を･･･\",\"url\":\"https://yewtu.be/latest_version?id=E2lpSx9hBmc&itag=22&hmac_key=ac5a3f2152d849bb02aa266eed7cdd47c76ca085&local=true\"}]'></div></div></p>\n<h1 id=\"歌词翻译\"><a class=\"anchor\" href=\"#歌词翻译\">#</a> 歌词翻译</h1>\n<p>『WASTED LOVE』登坂広臣<br />\n废弃之爱</p>\n<hr />\n<p>Talking like that… We're gonna fall<br />\n<span class=\"red\"> 我们耳鬓厮磨… 我们会一起坠落</span><br />\n Talking like that, talking like that…<br />\n<span class=\"red\"> 我们耳鬓厮磨 我们诉说爱意…</span></p>\n<hr />\n<p>I don't know when it all started<br />\n<span class=\"red\"> 我不知道我们时候开始的</span><br />\nいつの間にかこうして<br />\n<span class=\"red\">不知不觉就变成了这样</span><br />\n Guided by my own beating heart<br />\n<span class=\"red\"> 由我自己的心跳引导的</span><br />\n鼓動の赴くまま<br />\n<span class=\"red\">跟随着心脏跳动</span></p>\n<hr />\n<p>何度も you said you loved me<br />\n<span class=\"red\"> 无数次 你说你爱我</span><br />\nこのまま have the time of my life<br />\n<span class=\"red\"> 像这样 度过了我人生中最好的时光</span><br />\n二人でいる時間は<br />\n<span class=\"red\">两个人在一起的时间</span><br />\n I've never felt this way in my life oh<br />\n<span class=\"red\"> 是独一无二的日子</span></p>\n<hr />\n<p>ふと目が合ったあの時から<br />\n<span class=\"red\">从我们视线交汇的那一刻起</span><br />\n物語は始まっていた<br />\n<span class=\"red\">我们的故事就拉开了序幕</span><br />\n I could be free (yeah) I want to stay<br />\n<span class=\"red\"> 我会是自由的（是的）我想留在你身边</span></p>\n<hr />\n<p>Talking like that<br />\n<span class=\"red\"> 我们耳鬓厮磨</span><br />\n We got it fallin', talking like that<br />\n<span class=\"red\"> 我们急速堕落 我们耳鬓厮磨</span><br />\n We got it fallin', talking like that<br />\n<span class=\"red\"> 我们堕入深渊 我们诉说爱意</span><br />\n 'Cuz we are like that uuh uh uh<br />\n<span class=\"red\"> 因为我们就是像那样</span><br />\n Talking like that<br />\n<span class=\"red\"> 耳鬓厮磨的</span></p>\n<hr />\n<p>I would do it over again<br />\n<span class=\"red\"> 我会再来一次</span><br />\nもし君さえ良かったら<br />\n<span class=\"red\">如果你愿意的话</span><br />\n No matter what happens to us<br />\n<span class=\"red\"> 不管发生什么</span><br />\n心に感じるまま<br />\n<span class=\"red\">都跟随心的感受</span></p>\n<hr />\n<p>何度も Made love together<br />\n<span class=\"red\"> 无次数 我们在床上缠绵</span><br />\n解ってる staring into your eyes<br />\n<span class=\"red\"> 我明白 当我望向了你的眼睛</span><br />\nこの気持ちを知ったら<br />\n<span class=\"red\">当我知道了这样的感觉之后</span><br />\n There is no way I am turning back oh<br />\n<span class=\"red\"> 就再无退路</span></p>\n<hr />\n<p>その手に触れたあの時から<br />\n<span class=\"red\">从触碰你手的那一刻起</span><br />\n言葉もなく夢中になった<br />\n<span class=\"red\">语言变得苍白 我爱上了你</span><br />\n I could be free (yeah), I want to stay<br />\n<span class=\"red\"> 我会是自由的（是的）我想留在你身边</span></p>\n<hr />\n<p>Talking like that<br />\n<span class=\"red\"> 我们耳鬓厮磨</span><br />\n We got it fallin', talking like that<br />\n<span class=\"red\"> 我们急速堕落 我们耳鬓厮磨</span><br />\n We got it fallin', talking like that<br />\n<span class=\"red\"> 我们堕入深渊 我们诉说爱意</span><br />\n 'Cuz we are like that uuh uh uh<br />\n<span class=\"red\"> 因为我们就是像那样</span><br />\n Talking like that<br />\n<span class=\"red\"> 耳鬓厮磨的</span></p>\n<hr />\n<p>Ah　ゆっくり激しく抱きしめ全て忘れ<br />\n<span class=\"red\">啊 慢慢地激烈相拥 然后忘掉一切</span><br />\n夜に溶けていく I can't get enough<br />\n<span class=\"red\"> 融入夜色 但我不能满足</span><br />\n yea yea yea このままずっと fallen<br />\n<span class=\"red\"> 耶 耶 耶 像这样一直堕落</span></p>\n<hr />\n<p>ふと目が合ったあの時から<br />\n<span class=\"red\">从我们视线交汇的那一刻起</span><br />\n物語は始まっていた<br />\n<span class=\"red\">我们的故事就拉开了序幕</span><br />\n I could be free (yeah) I want to stay<br />\n<span class=\"red\"> 我会是自由的（是的）我想留在你身边</span></p>\n<hr />\n<p>Talking like that<br />\n<span class=\"red\"> 我们耳鬓厮磨</span><br />\n We got it fallin', talking like that<br />\n<span class=\"red\"> 我们急速堕落 我们耳鬓厮磨</span><br />\n We got it fallin', talking like that<br />\n<span class=\"red\"> 我们堕入深渊 我们诉说爱意</span><br />\n 'Cuz we are like that uuh uh uh<br />\n<span class=\"red\"> 因为我们就是像那样</span><br />\n Talking like that<br />\n<span class=\"red\"> 耳鬓厮磨的</span></p>\n",
            "tags": [
                "歌词翻译",
                "日语",
                "歌词，民工系"
            ]
        },
        {
            "id": "https://nanakumo.github.io/2023/08/27/%E6%99%B4%E3%81%A8%E3%81%8D%E3%81%A9%E3%81%8D%E6%9B%87/",
            "url": "https://nanakumo.github.io/2023/08/27/%E6%99%B4%E3%81%A8%E3%81%8D%E3%81%A9%E3%81%8D%E6%9B%87/",
            "title": "晴ときどき曇",
            "date_published": "2023-08-27T02:09:27.989Z",
            "content_html": "<p>歌词翻译 2 回目喵！依旧是带着自我感情的意译喵喵喵！</p>\n<h1 id=\"前言\"><a class=\"anchor\" href=\"#前言\">#</a> 前言</h1>\n<p>这是我两年前 loop 过的一首歌，曾经无数次治愈了迷茫又疲惫的我。 <ins>「做不到而逃走也能被获救的话，那样的未来我才不需要」，</ins> 这句歌词直击了我的心扉久久不止。 <ins>「哭泣着笑着后悔着，恋爱着失落着生活着」，</ins> 听着这样的歌词，就会想，是啊，生活就是这样的啊，有眼泪也有欢笑，这么想着，就会觉得所有困难的时候都能跨越过去了。大概每一首歌里，都会有一段无法忘怀的记忆吧，偶尔会想起 loop 这首歌的日子：有朋友，有爱好，有汗水，有生活。这是我人生旅途中再宝贵不过的时光了。 <span class=\"spoiler bulr\" title=\"你知道得太多了\">那样美好的时光，还能复刻吗？</span></p>\n<h1 id=\"视频\"><a class=\"anchor\" href=\"#视频\">#</a> 视频</h1>\n<p><s>以前翻译过的歌也放在了列表里喵</s></p>\n<p><div class=\"media-container\"><div class=\"player\" data-type=\"video\" data-src='[{\"name\":\"晴ときどき曇\",\"url\":\"https://yewtu.be/latest_version?id=IuAODcEqYSM&itag=22&hmac_key=1ed9417c31249913716447bded9366af91870790&local=true\"},{\"name\":\"語るなら未来を･･･\",\"url\":\"https://yewtu.be/latest_version?id=E2lpSx9hBmc&itag=22&hmac_key=ac5a3f2152d849bb02aa266eed7cdd47c76ca085&local=true\"}]'></div></div></p>\n<h1 id=\"歌词翻译\"><a class=\"anchor\" href=\"#歌词翻译\">#</a> 歌词翻译</h1>\n<p>『晴ときどき曇』<br />\n晴朗，时而多云</p>\n<hr />\n<p>「いい天気だね」<br />\n<span class=\"red\">你说，今天天气真好呢</span><br />\n君が言うから「本当だね」と答える<br />\n<span class=\"red\">我笑道，确实是这样呢</span><br />\n今日の空のこと話題にしたなら心がふっと近くなる<br />\n<span class=\"red\">一边谈论着这样的话题 心也一下子靠在了一起</span></p>\n<hr />\n<p>歩道を歩く　所々で水たまりが邪魔する<br />\n<span class=\"red\">走在人行道上 到处都有碍事的水洼</span><br />\n君と手を繋いで飛び越えてみる　太陽の光が舞う<br />\n<span class=\"red\">我牵着你的手跳了过去 阳光在起舞</span><br />\n次の季節が香り始める<br />\n<span class=\"red\">下个季节即将开始绽放</span><br />\nその変化に抗うように<br />\n<span class=\"red\">（太阳）为了违逆那样的变化</span><br />\n “暑かった日々を忘れないで” と最後の力　振り絞って照らす<br />\n<span class=\"red\">竭尽全力大声呼喊着 “不要忘记炎炎夏日噢”，然后照耀着</span></p>\n<hr />\n<p>空は見上げるたびそっと　色や模様うつり変わって<br />\n<span class=\"red\">每当仰望天空 颜色和模样都在风云变幻</span><br />\nそれはもう僕らの毎日のようだね<br />\n<span class=\"red\">那简直就像是我们的每一天呢</span><br />\n繰り返さないからもっと　この日この時この瞬間<br />\n<span class=\"red\">因为那样的时刻没有办法复制 所以当下的此时此刻</span><br />\n思い上がらずに刻みつけていたいよ<br />\n<span class=\"red\">都想小心翼翼地刻在心底呢</span></p>\n<hr />\n<p>宇宙まですぐ届く高さで泳いでいる魚たち<br />\n<span class=\"red\">鱼儿们在能够得着宇宙的高度遨游着</span><br />\nそういえば昨日は鈍色の空　どこに潜っていたんだろう？<br />\n<span class=\"red\"> 说起来 昨日的它们又潜藏在哪里的钝色天空之下呢？</span></p>\n<hr />\n<p>激しい雨にも耐えぬいた木の葉<br />\n<span class=\"red\">无法忍受大雨的树叶们</span><br />\nへっちゃらな顔で伝えている<br />\n<span class=\"red\">不屈地想表达些什么</span><br />\nやりきれないと逃げ出すことで救われるくらいなら<br />\n<span class=\"red\">做不到而逃走也能被获救的话</span><br />\nそんな未来は必要 (いら) ない<br />\n<span class=\"red\">那样的未来我才不需要</span></p>\n<hr />\n<p>今日も誰かが空の下　泣いて笑って悔しがって<br />\n<span class=\"red\">今天也有人在天空之下 哭泣着笑着后悔着</span><br />\n恋したり落ち込んだりして暮らしている<br />\n<span class=\"red\">恋爱着失落着生活着</span><br />\n満たされない何かがあって得られる喜びがあると思う<br />\n<span class=\"red\">无法得到满足 但是一定有什么能得到的喜悦</span><br />\n少なくとも、今の僕はそうだよ<br />\n<span class=\"red\">至少 如今的我是那样坚信的噢</span></p>\n<hr />\n<p>君が僕の方を振り返って　その思草 (しぐさ) がたまらなくて<br />\n<span class=\"red\">你回头看向了我 那样的动作印在了我的脑海里</span><br />\n幸せはいつもそうやって傍にいる<br />\n<span class=\"red\">幸福就像这样一直在我的身边</span><br />\n移り変わっていく空の下　僕らいつまでもこの瞬間<br />\n<span class=\"red\">在风云变幻的天空之下 我们要永远像此刻这般</span><br />\n抱きしめながら　ふたり歩いていこう<br />\n<span class=\"red\">两个人拥抱着 一起迈向未来吧</span></p>\n",
            "tags": [
                "歌词翻译",
                "日语",
                "歌词"
            ]
        },
        {
            "id": "https://nanakumo.github.io/2023/08/26/%E8%AA%9E%E3%82%8B%E3%81%AA%E3%82%89%E6%9C%AA%E6%9D%A5%E3%82%92%EF%BD%A5%EF%BD%A5%EF%BD%A5/",
            "url": "https://nanakumo.github.io/2023/08/26/%E8%AA%9E%E3%82%8B%E3%81%AA%E3%82%89%E6%9C%AA%E6%9D%A5%E3%82%92%EF%BD%A5%EF%BD%A5%EF%BD%A5/",
            "title": "語るなら未来を･･･",
            "date_published": "2023-08-26T14:27:34.963Z",
            "content_html": "<p>这是博主时隔一年多第一次翻译日语，稍稍有点手生，但是因为以前翻译过漫画，所以一下子又能找到感觉 <s>(大概)</s> 然后因为这是自己翻译着玩的，所以不保证质量 orz 再加上博主是意译派，还时不时加入自己的感情，所以 ——</p>\n<p><span id=\"more\"></span></p>\n<h1 id=\"前言\"><a class=\"anchor\" href=\"#前言\">#</a> 前言</h1>\n<p><ins>『語るなら未来を･･･』</ins> 是 <span class=\"purple\">欅坂 46</span> 在 2016.8.10 发行的第二张单曲里的歌，而我是今年在玩音游<ins class=\"wavy\">ユニゾンエアー</ins>时才第一次听到。朗朗上口的曲调瞬间抓耳，标题也很喜欢，再加之我是一个比起过去更看重当下和未来的人，所以立刻就与歌词所传达出来的想法产生了共鸣。然后歌词里有一句是「把那些带到坟墓里去吧」，作为坟墓爱好者（咦？）就更喜欢这首歌了啊 wwwww（喂你在说什么啊 ——</p>\n<h1 id=\"视频\"><a class=\"anchor\" href=\"#视频\">#</a> 视频</h1>\n<p><div class=\"media-container\"><div class=\"player\" data-type=\"video\" data-src='[{\"name\":\"語るなら未来を･･･\",\"url\":\"https://yewtu.be/latest_version?id=E2lpSx9hBmc&itag=22&hmac_key=ac5a3f2152d849bb02aa266eed7cdd47c76ca085&local=true\"}]'></div></div></p>\n<h1 id=\"歌词翻译\"><a class=\"anchor\" href=\"#歌词翻译\">#</a> 歌词翻译</h1>\n<p>『語るなら未来を･･･』<br />\n如果要诉说的话，那就诉说未来吧･･･</p>\n<hr />\n<p>ふいだった<br />\n<span class=\"red\">不经意之间</span><br />\nただのアンラッキー<br />\n<span class=\"red\">只不过是不走运而已</span><br />\n心が一瞬声上げた<br />\n<span class=\"red\">心里就一瞬间大声呼喊</span></p>\n<hr />\n<p>ガラス瓶<br />\n<span class=\"red\">玻璃瓶</span><br />\n落として割れたら<br />\n<span class=\"red\">如果掉落而碎了的话</span><br />\n元になんて戻せないんだ<br />\n<span class=\"red\">就没有办法再复原了啊</span></p>\n<hr />\n<p>何が入ってたかなんて<br />\n<span class=\"red\">即便弄清楚了里面装了些什么</span><br />\n明かしても意味がない<br />\n<span class=\"red\">也毫无意义</span><br />\nアスファルトの上<br />\n<span class=\"red\">在泊油路上</span><br />\n広がった<br />\n<span class=\"red\">蔓延开来的</span><br />\nただの黒い染み<br />\n<span class=\"red\">只不过是无尽的黑色</span></p>\n<hr />\n<p>もう 失った人生なんて語るな<br />\n<span class=\"red\">不要再 诉说已经失去的人生了</span><br />\nほんの一部でしかないんだ<br />\n<span class=\"red\">那只不过是你生活的一部分而已</span><br />\n手に入れたのは脆 (もろ) い現実と<br />\n<span class=\"red\">我们能够拥有的只不过是</span><br />\n飾られた嘘のレッテル<br />\n<span class=\"red\">脆弱的现实和被装饰成谎言的标签</span><br />\n破片 (かけら) を拾い集めるな<br />\n<span class=\"red\">即使是那些碎片也不要拾起来啊</span><br />\n語るなら 未来を…<br />\n<span class=\"red\"> 如果要诉说的话 就去诉说未来吧…</span></p>\n<hr />\n<p>終わったんだ<br />\n<span class=\"red\">已经结束了啊</span><br />\n無駄なエピローグ<br />\n<span class=\"red\">这无用的结语</span><br />\n往生際が悪すぎる<br />\n<span class=\"red\">对于这个故事太过执着了</span></p>\n<hr />\n<p>手に取って<br />\n<span class=\"red\">即便是得到之后</span><br />\n確かめようにも<br />\n<span class=\"red\">想要去确认什么</span><br />\nそこにないならしょうがない<br />\n<span class=\"red\">如果不在那里的话也没有办法呢</span></p>\n<hr />\n<p>誰のせいでもないだろう<br />\n<span class=\"red\">谁都没有错吧</span><br />\n振り返る余裕ない<br />\n<span class=\"red\">没有回顾过去的余力</span><br />\n腹立たしさとか<br />\n<span class=\"red\">曾经所气愤的事之类的</span><br />\n悔しさは<br />\n<span class=\"red\">还有后悔什么的</span><br />\n思い上がりだよ<br />\n<span class=\"red\">如今也能当作是自豪的存在了</span></p>\n<hr />\n<p>今だから言えることは語るな<br />\n<span class=\"red\">不要说一些事到如今才可以说的话了</span><br />\n墓の中まで持って行け<br />\n<span class=\"red\">把那些带到坟墓里去吧</span><br />\n言葉にすれば安い願望と<br />\n<span class=\"red\">如果要说的话 就说一些能够实现的愿望</span><br />\nオーバーに盛った真実<br />\n<span class=\"red\">和无比盛大的真实</span><br />\n過去など自己嫌悪しかない<br />\n<span class=\"red\">过去什么的 只会自我厌弃</span><br />\n語るなら 予言を…<br />\n<span class=\"red\"> 要说的话 就去说预言吧…</span></p>\n<hr />\n<p>人は心の中に<br />\n<span class=\"red\">每个人的心中</span><br />\nガラスの瓶がある<br />\n<span class=\"red\">都有一个玻璃瓶</span><br />\n愛や夢を詰め込んで<br />\n<span class=\"red\">里面装载着爱与梦想</span><br />\n割らぬように大事に<br />\n<span class=\"red\">我们都小心翼翼地</span><br />\n守っているけれど…<br />\n<span class=\"red\"> 不去打碎它…</span></p>\n<hr />\n<p>もう 失った人生なんて語るな<br />\n<span class=\"red\">不要再 诉说已经失去的人生了</span><br />\nほんの一部でしかないんだ<br />\n<span class=\"red\">那只不过是你生活的一部分而已</span><br />\n手に入れたのは脆 (もろ) い現実と<br />\n<span class=\"red\">我们能够拥有的只不过是</span><br />\n飾られた嘘のレッテル<br />\n<span class=\"red\">脆弱的现实和被装饰成谎言的标签</span><br />\n破片 (かけら) を拾い集めるな<br />\n<span class=\"red\">即使是那些碎片也不要拾起来啊</span><br />\n語るなら 未来を…<br />\n<span class=\"red\"> 如果要诉说的话，就去诉说未来吧…</span></p>\n<hr />\n<p>今だから言えることは語るな<br />\n<span class=\"red\">不要说一些事到如今才可以说的话了</span><br />\n墓の中まで持って行け<br />\n<span class=\"red\">把那些带到坟墓里去吧</span><br />\n言葉にすれば安い願望と<br />\n<span class=\"red\">如果要说的话 就说一些能够实现的愿望</span><br />\nオーバーに盛った真実<br />\n<span class=\"red\">和无比盛大的真实</span><br />\n過去など自己嫌悪しかない<br />\n<span class=\"red\">过去什么的 只会自我厌弃</span><br />\n語るなら 予言を…<br />\n<span class=\"red\"> 要说的话 就去说预言吧…</span></p>\n",
            "tags": [
                "歌词翻译",
                "日语",
                "歌词",
                "坂道系"
            ]
        },
        {
            "id": "https://nanakumo.github.io/2023/08/26/%E6%95%88%E6%9E%9C%E6%A3%80%E6%B5%8B%E5%85%A5%E9%97%A8/",
            "url": "https://nanakumo.github.io/2023/08/26/%E6%95%88%E6%9E%9C%E6%A3%80%E6%B5%8B%E5%85%A5%E9%97%A8/",
            "title": "数据分析 | 因果推论 / 効果検証入門（更新于2023/8/27）",
            "date_published": "2023-08-26T13:06:23.272Z",
            "content_html": "<p>这是我的阅读笔记喵 (。・ω・。) 因为还没有读完，所以会随时更新噢 ww<br />\n<s>（少量日文出没，有些实在不知道中文的讲法 QAQ）</s></p>\n<p><span id=\"more\"></span></p>\n<details class=\"primary\"><summary>点我点我</summary><div>\n<p>书名：効果検証入門～正しい比較のための因果推論 / 計量経済学の基礎～<br />\n 分类：经济学 / 数据分析 / 因果推论<br />\n著者：安井翔太<br />\n出版社：技术评论社</p>\n</div></details>\n<h1 id=\"selection-bias-和-rct\"><a class=\"anchor\" href=\"#selection-bias-和-rct\">#</a> selection bias 和 RCT</h1>\n<h2 id=\"什么是selection-bias\"><a class=\"anchor\" href=\"#什么是selection-bias\">#</a> 什么是 selection bias</h2>\n<h3 id=\"效果\"><a class=\"anchor\" href=\"#效果\">#</a> 效果</h3>\n<p>假定一个场景：</p>\n<blockquote>\n<p>某便利店为了一个新商品进行了广告宣传，于是这个新商品的销量比以往的新商品销量都要好。</p>\n</blockquote>\n<p>在我们分析之前，首先对一些名词作出解释：</p>\n<ol>\n<li><span class=\"red\">效果：</span><br />\n在这个案例里便是<strong>销量</strong>。</li>\n<li><span class=\"red\">介入 / 処置：</span><br />\n在这个案例里面就是<strong>广告宣传</strong>，若是政策分析的话，也能叫做<ins>施策</ins>。</li>\n</ol>\n<p>回到这个例子，单单是看这句话的描述的话，似乎是因为有了广告宣传，所以这一次的新商品销量比以往都要好。也就是说，广告宣传是原因，而销量变好是结果。<ins>但很显然不是这样的，因为我们没有办法排除其他因素的干扰，</ins> 比如：</p>\n<ul>\n<li>服务质量的提升</li>\n<li>同一时期还有其他的活动</li>\n<li>发布优惠券</li>\n<li>与他社的联动</li>\n</ul>\n<p>如果忽视了其他因素而单单得出<ins class=\"dot\">因为有了广告宣传而使得销量提升了</ins>这样简单的结论的话，很有可能会导致<ins class=\"wavy\">下一次进行同样的广告宣传但却根本没有达到预期</ins>这样的后果，也就是所谓的失算了（专业点来说就是<ins>决策失误</ins>）。</p>\n<h3 id=\"潜在购买量的差\"><a class=\"anchor\" href=\"#潜在购买量的差\">#</a> 潜在购买量的差</h3>\n<p>为了说明什么是潜在购买量，我们重新假定一个场景：</p>\n<blockquote>\n<p>某购物网站想要通过发送邮件（邮件内部有优惠券的附件）来增加商品销量。</p>\n</blockquote>\n<p>在这个场景下，假设用户 A 是该购物网站的常客。于是我们能拿到两个数据，一个是<strong>用户 A 在邮件发送之前在一定时期之内的购买量</strong>，一个便是<strong>邮件发布之后在一定时间之内的购买量。</strong> 在这个案例里面，第一个数据就是<ins>潜在购买量。</ins></p>\n<p><img data-src=\"https://s2.loli.net/2023/08/26/H7a5teTgEyKpW1Z.jpg\" alt=\"潜在购买量\" title=\"图1：潜在购买量\" /></p>\n<p>在大多数的商业决策中，我们常常依赖这样的数据分析。<span class=\"red\">但是值得警惕的是，单纯这样分析是非常不妥的。</span></p>\n<h3 id=\"错误的决策\"><a class=\"anchor\" href=\"#错误的决策\">#</a> 错误的决策</h3>\n<p>在说明问题之前，我们先看看整个事件是如何发生的。</p>\n<p><img data-src=\"https://s2.loli.net/2023/08/26/obAqB5tKn4PWcwh.jpg\" alt=\"メール割り振りしくみ.jpg\" /></p>\n<p>也就是说，网站用户大概是分成两类，一类是原本就要购买商品的用户，另一类则是原本就不买商品的用户。而在一般的商业决策中，商家往往会向前者发送带有优惠券的邮件。更具体来讲，<ins class=\"wavy\">用户被选择发送邮件需要看是否满足以下三个条件</ins>：</p>\n<ul>\n<li>过去的购买量是否到达了一定的数值</li>\n<li>最近是否有购买</li>\n<li>买过和优惠券一样的商品吗</li>\n</ul>\n<p>如果满足了其中一样，商家便会选择向他们发送邮件。也就是说，没有被选择发送邮件的用户的<ins>潜在购买量</ins>原本就比被选择了发送邮件的用户的要少。因此单纯比较发送邮件之后两者购买量之差的话则会存在<strong> selection bias</strong>.</p>\n<p><img data-src=\"https://s2.loli.net/2023/08/26/H7a5teTgEyKpW1Z.jpg\" alt=\"\" /></p>\n<p>像这样，由数据得到的分析结果与实际的效果之间的差便称作<strong> bias</strong>，其中<ins>由于比较对象之间的潜在不同而产生的 bias</ins> 就叫做<strong> selection bias</strong>.</p>\n<h2 id=\"rctrandomized-controlled-trail\"><a class=\"anchor\" href=\"#rctrandomized-controlled-trail\">#</a> RCT(Randomized Controlled Trail)</h2>\n<p>到目前为止，想要排除掉其他因素的影响，最好的做法是进行<span class=\"red\"> RCT 实验</span>。</p>\n<h3 id=\"真正的效果和理想的检验方法\"><a class=\"anchor\" href=\"#真正的效果和理想的检验方法\">#</a> 真正的「效果」和理想的检验方法</h3>\n<p>其实最理想的检验方法是，比较两个<ins class=\"wavy\">完全相同</ins>的样本。就拿刚刚的例子来说，首先对用户 A 发送邮件拿到用户 A 的购买量之后，再坐<em>时光机器</em>回去在同一个时间节点上不再发送邮件，拿到<strong>没有发送邮件</strong>的数据。</p>\n<p>但是利用目前的科学技术显然是不可能的，因此这就成为了<ins class=\"dot\">因果推论的根本问题。</ins></p>\n<div class=\"note info\">\n<p>因果推论的根本问题是，在比较同一对象在「被介入」与「没有被介入」后的状态是否相同时，因为同个时间点没办法既是「介入」又是「未介入」，所以这个是没办法实现的。</p>\n</div>\n<h3 id=\"rct检验\"><a class=\"anchor\" href=\"#rct检验\">#</a> RCT 检验</h3>\n<p>既然没办法达到最理想的效果，那么我们只能退而求其次，选择一个相对而言最能信赖的方法，即<ins class=\"dot\">将介入随机化，</ins> 也就是<ins>随机选择介入对象</ins>。</p>\n<p><img data-src=\"https://s2.loli.net/2023/08/26/YDXzK4WmSEgoNRx.jpg\" alt=\"無作為化.jpg\" /></p>\n<p>我们可以认为，<ins>从平均水平来看</ins>，「被介入对象」和「未被介入对象」除了有无配信邮件以外其他方面都是一样的。我们可以通过这样来排除掉其他因素的影响。这样的数据分析的方法便叫作<strong> RCT (Randomized Controlled Trail)</strong>. 另外，在一些高度数据科学（data science）的公司或机构又将 RCT 叫做<strong> AB test</strong>.</p>\n<p><img data-src=\"https://s2.loli.net/2023/08/26/QqIrBnNW8EzjafT.png\" alt=\"RCT.png\" /></p>\n<h2 id=\"检验效果的理想方法\"><a class=\"anchor\" href=\"#检验效果的理想方法\">#</a> 检验效果的理想方法</h2>\n<p>到此为止，我们说明了什么是<ins>效果</ins>和<ins> RCT</ins>，接下来我们会使用数学公式对此进行整理。</p>\n<h3 id=\"母集団和推定\"><a class=\"anchor\" href=\"#母集団和推定\">#</a> 母集団和推定</h3>\n<p>观测数据的背后潜在的所有能观测到的数据称为<ins class=\"wavy\">母集団</ins><s>（不太清楚中文的讲法）</s>。但是我们没有办法收集到所有的数据，所以只能分析手里头有的数据，这个过程叫做<ins class=\"wavy\">推定</ins>。但是值得注意的是，我们想要通过推定来知道母集団的<ins>某一个特征</ins>，<ins class=\"dot\">而其他特征作为干扰项是需要被我们排除在外的。</ins></p>\n<h3 id=\"potential-outcome-framwork\"><a class=\"anchor\" href=\"#potential-outcome-framwork\">#</a> Potential outcome framwork</h3>\n<p>我们首先考虑母集团的效果。假定有某个样本（按照上面的例子的话就是<span class=\"red\">用户 A</span>）i，设 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>Z</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">Z_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 为是否配信邮件，其中 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>Z</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">Z_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 为配信邮件，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>Z</mi><mn>0</mn></msub></mrow><annotation encoding=\"application/x-tex\">Z_0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 为不配信邮件，如下：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>Z</mi><mi>i</mi></msub><mo>=</mo><mrow><mo fence=\"true\">{</mo><mtable rowspacing=\"0.24999999999999992em\" columnalign=\"right\" columnspacing=\"\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mn>1</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mn>0</mn></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding=\"application/x-tex\"> Z_i=\\left\\{\n\\begin{aligned}\n1  \\\\ \n0  \n\\end{aligned}\n\\right.</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:3.00003em;vertical-align:-1.25003em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size4\">{</span></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.7500000000000002em;\"><span style=\"top:-3.91em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">1</span></span></span><span style=\"top:-2.41em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.2500000000000002em;\"><span></span></span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span></p>\n<p>接下来，我们有假定 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>Y</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">Y_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 为介入（或没有介入）之后的购买量，其中 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>Y</mi><mi>i</mi><mn>0</mn></msubsup></mrow><annotation encoding=\"application/x-tex\">Y_i^0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.072772em;vertical-align:-0.258664em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-2.441336em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.258664em;\"><span></span></span></span></span></span></span></span></span></span> 表示没有邮件配信时的购买量，而 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>Y</mi><mi>i</mi><mn>1</mn></msubsup></mrow><annotation encoding=\"application/x-tex\">Y_i^1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.072772em;vertical-align:-0.258664em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-2.441336em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.258664em;\"><span></span></span></span></span></span></span></span></span></span> 则表示邮件配信之后的购买量。如下：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>Y</mi><mi>i</mi></msub><mo>=</mo><mrow><mo fence=\"true\">{</mo><mtable rowspacing=\"0.24999999999999992em\" columnalign=\"right\" columnspacing=\"\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><msubsup><mi>Y</mi><mi>i</mi><mn>1</mn></msubsup><mtext>——</mtext><msub><mi>Z</mi><mi>i</mi></msub><mo>=</mo><mn>1</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><msubsup><mi>Y</mi><mi>i</mi><mn>0</mn></msubsup><mtext>——</mtext><msub><mi>Z</mi><mi>i</mi></msub><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding=\"application/x-tex\"> Y_i=\\left\\{\n\\begin{aligned}\nY_i^1 —— Z_i = 1\\\\\nY_i^0 —— Z_i = 0\n\\end{aligned}\n\\right.\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:3.048216em;vertical-align:-1.274108em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size4\">{</span></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.774108em;\"><span style=\"top:-3.91em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-2.4530000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.247em;\"><span></span></span></span></span></span></span><span class=\"mord\">—</span><span class=\"mord\">—</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\">1</span></span></span><span style=\"top:-2.385892em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-2.4530000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.247em;\"><span></span></span></span></span></span></span><span class=\"mord\">—</span><span class=\"mord\">—</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.274108em;\"><span></span></span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span></p>\n<p>因此，整体的效果可以通过以下算式来表现：</p>\n<p><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>Y</mi><mi>i</mi></msub><mo>=</mo><msubsup><mi>Y</mi><mi>i</mi><mn>0</mn></msubsup><mo stretchy=\"false\">(</mo><mn>1</mn><mo>−</mo><msub><mi>Z</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo><mo>+</mo><msubsup><mi>Y</mi><mi>i</mi><mn>1</mn></msubsup><msub><mi>Z</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">Y_i = Y_i^0(1-Z_i) + Y_i^1Z_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.072772em;vertical-align:-0.258664em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-2.441336em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.258664em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.072772em;vertical-align:-0.258664em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-2.441336em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.258664em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></p>\n<p>像这样，我们认为对于每个样本（用户 A）来说，介入和没有被介入的差值（即 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>Y</mi><mi>i</mi><mn>0</mn></msubsup></mrow><annotation encoding=\"application/x-tex\">Y_i^0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.072772em;vertical-align:-0.258664em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-2.441336em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.258664em;\"><span></span></span></span></span></span></span></span></span></span> 和 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>Y</mi><mi>i</mi><mn>1</mn></msubsup></mrow><annotation encoding=\"application/x-tex\">Y_i^1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.072772em;vertical-align:-0.258664em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-2.441336em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.258664em;\"><span></span></span></span></span></span></span></span></span></span>）便是 <span class=\"red\">potential Outcome Framwork</span>.</p>\n<h3 id=\"基于-potential-outcome-framwork-的介入效果的推定\"><a class=\"anchor\" href=\"#基于-potential-outcome-framwork-的介入效果的推定\">#</a> 基于 potential outcome framwork 的介入效果的推定</h3>\n<p>现在假定一组数据，如下表：</p>\n<ul>\n<li>第 i 行就是用户 i</li>\n<li>用户 i 的购买量是 Y</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>Y</mi><mi>i</mi><mn>0</mn></msubsup></mrow><annotation encoding=\"application/x-tex\">Y_i^0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.072772em;vertical-align:-0.258664em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-2.441336em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.258664em;\"><span></span></span></span></span></span></span></span></span></span> 指不配信邮件时的购买量， <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>Y</mi><mi>i</mi><mn>1</mn></msubsup></mrow><annotation encoding=\"application/x-tex\">Y_i^1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.072772em;vertical-align:-0.258664em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-2.441336em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.258664em;\"><span></span></span></span></span></span></span></span></span></span> 指配信邮件时的购买量</li>\n<li>是否配信邮件用 Z 来表示</li>\n</ul>\n<p>表 1.1 用户的购买量（拟定数据）</p>\n<table>\n<thead>\n<tr>\n<th>i</th>\n<th>Y</th>\n<th><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>Y</mi><mi>i</mi><mn>0</mn></msubsup></mrow><annotation encoding=\"application/x-tex\">Y_i^0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.072772em;vertical-align:-0.258664em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-2.441336em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.258664em;\"><span></span></span></span></span></span></span></span></span></span></th>\n<th><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>Y</mi><mi>i</mi><mn>1</mn></msubsup></mrow><annotation encoding=\"application/x-tex\">Y_i^1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.072772em;vertical-align:-0.258664em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-2.441336em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.258664em;\"><span></span></span></span></span></span></span></span></span></span></th>\n<th>Z</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>300</td>\n<td>300</td>\n<td>400</td>\n<td>0</td>\n</tr>\n<tr>\n<td>2</td>\n<td>600</td>\n<td>500</td>\n<td>600</td>\n<td>1</td>\n</tr>\n<tr>\n<td>3</td>\n<td>600</td>\n<td>500</td>\n<td>600</td>\n<td>1</td>\n</tr>\n<tr>\n<td>4</td>\n<td>300</td>\n<td>300</td>\n<td>400</td>\n<td>0</td>\n</tr>\n<tr>\n<td>5</td>\n<td>300</td>\n<td>300</td>\n<td>400</td>\n<td>0</td>\n</tr>\n<tr>\n<td>6</td>\n<td>600</td>\n<td>500</td>\n<td>600</td>\n<td>1</td>\n</tr>\n<tr>\n<td>7</td>\n<td>600</td>\n<td>500</td>\n<td>600</td>\n<td>1</td>\n</tr>\n<tr>\n<td>8</td>\n<td>300</td>\n<td>300</td>\n<td>400</td>\n<td>0</td>\n</tr>\n<tr>\n<td>7</td>\n<td>600</td>\n<td>500</td>\n<td>600</td>\n<td>1</td>\n</tr>\n<tr>\n<td>10</td>\n<td>300</td>\n<td>300</td>\n<td>400</td>\n<td>0</td>\n</tr>\n</tbody>\n</table>\n<p>由前述所说得知，效果便是 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>Y</mi><mi>i</mi><mn>1</mn></msubsup></mrow><annotation encoding=\"application/x-tex\">Y_i^1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.072772em;vertical-align:-0.258664em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-2.441336em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.258664em;\"><span></span></span></span></span></span></span></span></span></span> 与 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>Y</mi><mi>i</mi><mn>0</mn></msubsup></mrow><annotation encoding=\"application/x-tex\">Y_i^0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.072772em;vertical-align:-0.258664em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-2.441336em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.258664em;\"><span></span></span></span></span></span></span></span></span></span> 之间的差值，因此上表的所有用户的效果都为 100，即配信了邮件之后，购买量会比没有配信邮件时多出 100. 因此，<span class=\"red\">介入效果</span>（τ，读作たう）可以通过以下算式来表示：</p>\n<p><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>τ</mi><mo>=</mo><msup><mi>Y</mi><mi>i</mi></msup><mo>−</mo><msup><mi>Y</mi><mn>0</mn></msup></mrow><annotation encoding=\"application/x-tex\">τ = Y^i - Y^0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.1132em;\">τ</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.907994em;vertical-align:-0.08333em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.824664em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8141079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span></span></span></span></span></span></span></span></p>\n<p>但是值得我们注意的是，我们能够得观测到的数据只有 Y 和 Z ，因此我们无法算出想要的 τ 值。所以，我们不是着眼于<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>Y</mi><mi>i</mi><mn>1</mn></msubsup></mrow><annotation encoding=\"application/x-tex\">Y_i^1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.072772em;vertical-align:-0.258664em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-2.441336em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.258664em;\"><span></span></span></span></span></span></span></span></span></span> 与<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>Y</mi><mi>i</mi><mn>0</mn></msubsup></mrow><annotation encoding=\"application/x-tex\">Y_i^0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.072772em;vertical-align:-0.258664em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-2.441336em;margin-left:-0.22222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.258664em;\"><span></span></span></span></span></span></span></span></span></span> ，而是去比较<ins class=\"dot\">配信的群体</ins>和<ins class=\"dot\">没有被配信的群体</ins>，然后去考虑<ins>平均效果</ins>。</p>\n<p>(未完待续，更新于 2023/8/27)</p>\n",
            "tags": [
                "学习笔记",
                "数据分析",
                "因果推论",
                "计量经济学",
                "阅读笔记"
            ]
        },
        {
            "id": "https://nanakumo.github.io/2023/08/24/%E8%8F%9C%E9%B8%9F%E7%BA%A7%E5%88%AB%E5%88%A9%E7%94%A8docker-compose%E6%90%AD%E5%BB%BAFirefish%E5%AE%9E%E4%BE%8B/",
            "url": "https://nanakumo.github.io/2023/08/24/%E8%8F%9C%E9%B8%9F%E7%BA%A7%E5%88%AB%E5%88%A9%E7%94%A8docker-compose%E6%90%AD%E5%BB%BAFirefish%E5%AE%9E%E4%BE%8B/",
            "title": "Firefish | 菜鸟级别利用docker-compose搭建Fedi实例",
            "date_published": "2023-08-24T12:49:19.316Z",
            "content_html": "<p>2023 年，随着 X 社媒（原 Twitter）的全面塌陷，越来越多的网友逃向了 Fediverse 开源社交平台，其中著名的有 Mastodon、Misskey 和 Pleroma。前阵子，随着<span class=\"exturl\" data-url=\"aHR0cHM6Ly9qb2luZmlyZWZpc2gub3Jn\"> Firefish</span> 的 <s>横空问世</s> （Misskey 的一个 fork），博主便也想着搭一个玩玩。博主是计算机零基础的小白 <s>（超级白的那种）</s> ，靠着广大热心网友先后搭起了一个 Misskey 实例和一个 Pleroma 实例，这一次，也多亏了大家的帮忙，磕磕绊绊地终于搭好了 Firefish 实例。趁着记忆还鲜明，赶紧记录一下搭建过程。</p>\n<p><span id=\"more\"></span></p>\n<h1 id=\"搭建过程\"><a class=\"anchor\" href=\"#搭建过程\">#</a> 搭建过程</h1>\n<p>因为是用<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXQuam9pbmZpcmVmaXNoLm9yZy9maXJlZmlzaC9maXJlZmlzaC8tL2Jsb2IvZGV2ZWxvcC9kb2NzL2RvY2tlci5tZA==\"> Docker-compose 搭建实例</span>，所以默认机器上是有 Docker 容器的。在此基础上，先在任意目录下新建 <code>docker-compose.yml</code>  文件。比如:</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">mkdir</span> /firefish <span class=\"token operator\">&amp;&amp;</span> <span class=\"token builtin class-name\">cd</span> /firefish</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">nano</span> docker-compose.yml</pre></td></tr></table></figure><p>然后<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXQuam9pbmZpcmVmaXNoLm9yZy9maXJlZmlzaC9maXJlZmlzaC8tL2Jsb2IvZGV2ZWxvcC9kb2NrZXItY29tcG9zZS55bWw=\">写入以下</span>：</p>\n<figure class=\"highlight yml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"3\"</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token key atrule\">web</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> registry.joinfirefish.org/firefish/firefish</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token key atrule\">container_name</span><span class=\"token punctuation\">:</span> firefish_web</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token key atrule\">restart</span><span class=\"token punctuation\">:</span> unless<span class=\"token punctuation\">-</span>stopped</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token key atrule\">depends_on</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      <span class=\"token punctuation\">-</span> db</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>      <span class=\"token punctuation\">-</span> redis</pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\">### Uncomment one of the following to use a search engine</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\">#     - meilisearch</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\">#     - sonic</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token string\">\"3000:3000\"</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token key atrule\">networks</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>      <span class=\"token punctuation\">-</span> calcnet</pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token comment\">#     - web</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token key atrule\">environment</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>      <span class=\"token key atrule\">NODE_ENV</span><span class=\"token punctuation\">:</span> production</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>      <span class=\"token punctuation\">-</span> ./files<span class=\"token punctuation\">:</span>/firefish/files</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>      <span class=\"token punctuation\">-</span> ./.config<span class=\"token punctuation\">:</span>/firefish/.config<span class=\"token punctuation\">:</span>ro</pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>  <span class=\"token key atrule\">redis</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token key atrule\">restart</span><span class=\"token punctuation\">:</span> unless<span class=\"token punctuation\">-</span>stopped</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> docker.io/redis<span class=\"token punctuation\">:</span>7.0<span class=\"token punctuation\">-</span>alpine</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token key atrule\">container_name</span><span class=\"token punctuation\">:</span> firefish_redis</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token key atrule\">networks</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>      <span class=\"token punctuation\">-</span> calcnet</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>      <span class=\"token punctuation\">-</span> ./redis<span class=\"token punctuation\">:</span>/data</pre></td></tr><tr><td data-num=\"32\"></td><td><pre></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>  <span class=\"token key atrule\">db</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token key atrule\">restart</span><span class=\"token punctuation\">:</span> unless<span class=\"token punctuation\">-</span>stopped</pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> docker.io/postgres<span class=\"token punctuation\">:</span>12.2<span class=\"token punctuation\">-</span>alpine</pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token key atrule\">container_name</span><span class=\"token punctuation\">:</span> firefish_db</pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    <span class=\"token key atrule\">networks</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>      <span class=\"token punctuation\">-</span> calcnet</pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token key atrule\">env_file</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>      <span class=\"token punctuation\">-</span> .config/docker.env</pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>      <span class=\"token punctuation\">-</span> ./db<span class=\"token punctuation\">:</span>/var/lib/postgresql/data</pre></td></tr><tr><td data-num=\"43\"></td><td><pre></pre></td></tr><tr><td data-num=\"44\"></td><td><pre><span class=\"token comment\">### Only one of the below should be used.</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre><span class=\"token comment\">### Meilisearch is better overall, but resource-intensive. Sonic is a very light full text search engine.</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre></pre></td></tr><tr><td data-num=\"47\"></td><td><pre><span class=\"token comment\">#  meilisearch:</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre><span class=\"token comment\">#    container_name: meilisearch</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre><span class=\"token comment\">#    image: getmeili/meilisearch:v1.1.1</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre><span class=\"token comment\">#    environment:</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre><span class=\"token comment\">#      - MEILI_ENV=$&#123;MEILI_ENV:-development&#125;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre><span class=\"token comment\">#    ports:</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre><span class=\"token comment\">#      - \"7700:7700\"</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre><span class=\"token comment\">#    networks:</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre><span class=\"token comment\">#      - calcnet</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre><span class=\"token comment\">#    volumes:</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre><span class=\"token comment\">#      - ./meili_data:/meili_data</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre><span class=\"token comment\">#    restart: unless-stopped</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre></pre></td></tr><tr><td data-num=\"60\"></td><td><pre><span class=\"token comment\">#  sonic:</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre><span class=\"token comment\">#    restart: unless-stopped</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre><span class=\"token comment\">#    image: docker.io/valeriansaliou/sonic:v1.4.0</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre><span class=\"token comment\">#    networks:</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre><span class=\"token comment\">#      - calcnet</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre><span class=\"token comment\">#    volumes:</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre><span class=\"token comment\">#      - ./sonic:/var/lib/sonic/store</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre><span class=\"token comment\">#      - ./sonic/config.cfg:/etc/sonic.cfg</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre></pre></td></tr><tr><td data-num=\"69\"></td><td><pre><span class=\"token key atrule\">networks</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>  <span class=\"token key atrule\">calcnet</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>  <span class=\"token comment\">#  web:</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>  <span class=\"token comment\">#    external:</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>  <span class=\"token comment\">#      name: web</span></pre></td></tr></table></figure><blockquote>\n<p>注意：<br />\n如果此前搭建过 Misskey 的话，那么端口号 3000 应当是冲突的，这时候需要把 <code>web</code>  下面的 <code>ports</code>  改成其他端口，比如 <code>4000:4000</code> 。</p>\n</blockquote>\n<p>写完 <code>docker-compose.yml</code>  文件之后，需要在 firefish 的根目录下新建 <code>.config</code>  文件夹，在里头装入<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXQuam9pbmZpcmVmaXNoLm9yZy9maXJlZmlzaC9maXJlZmlzaC8tL2Jsb2IvZGV2ZWxvcC8uY29uZmlnL2V4YW1wbGUueW1s\"> default.yml</span> 和<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXQuam9pbmZpcmVmaXNoLm9yZy9maXJlZmlzaC9maXJlZmlzaC8tL2Jsb2IvZGV2ZWxvcC8uY29uZmlnL2RvY2tlcl9leGFtcGxlLmVudg==\"> docker.env</span> 这两个文件。</p>\n<p><strong>注意：</strong></p>\n<ol>\n<li>需要重命名：example.yml -&gt; default.yml &amp;&amp; docker_example.env -&gt; docker.env</li>\n<li>修改 default.yml 的内容：url -&gt; 自己的域名 &amp;&amp; db localhost -&gt; firefish_db &amp;&amp; redis localhost -&gt; redis <s>（备注：localhost 一定要修改，博主就是在这里卡了好久 QAQ）</s></li>\n<li>（可选）修改 default.yml 中的 port，如果端口有冲突的话。修改 db 的 user 和 pass，且两个文件一定要 match。</li>\n</ol>\n<p>待文件写入完毕之后，便可使容器上线： <code>docker-compose up -d</code></p>\n<h1 id=\"反向代理nginx\"><a class=\"anchor\" href=\"#反向代理nginx\">#</a> 反向代理：Nginx</h1>\n<p>这一部分的话，大概有很多种操作方法，我只写了我使用的一种：利用 Certbot 获取证书然后用 Nginx 反向代理。</p>\n<p><ins class=\"wavy\">首先去 DNS 服务商添加一条指向服务器 IP 的 A 记录。</ins> 然后回到服务器，先切换 root 用户： <code>sudo -i</code> 。因为要使用 Certbot 和 Nginx，所以默认服务器上有这两个东西。</p>\n<p>先<strong>获取证书</strong>，使用指令 <code>sudo certbot --nginx</code>  ，然后配置 Nginx。博主刚开始使用的是<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXQuam9pbmZpcmVmaXNoLm9yZy9maXJlZmlzaC9maXJlZmlzaC8tL2Jsb2IvZGV2ZWxvcC9maXJlZmlzaC5uZ2lueC5jb25m\"> firefish 的 Nginx 配置文件</span>，但是没有成功，后来经热心网友建议，使用<span class=\"exturl\" data-url=\"aHR0cHM6Ly9taXNza2V5LWh1Yi5uZXQvZW4vZG9jcy9hZG1pbi9uZ2lueC5odG1s\"> Misskey 的配置文件</span>试试，结果就成功了。</p>\n<p>我的配置文件如下：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># For WebSocket</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>map <span class=\"token variable\">$http_upgrade</span> <span class=\"token variable\">$connection_upgrade</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    default upgrade<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token string\">''</span>      close<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>proxy_cache_path /tmp/nginx_cache_firefish <span class=\"token assign-left variable\">levels</span><span class=\"token operator\">=</span><span class=\"token number\">1</span>:2 <span class=\"token assign-left variable\">keys_zone</span><span class=\"token operator\">=</span>cache2:16m <span class=\"token assign-left variable\">max_size</span><span class=\"token operator\">=</span>1g <span class=\"token assign-left variable\">inactive</span><span class=\"token operator\">=</span>720m <span class=\"token assign-left variable\">use_temp_path</span><span class=\"token operator\">=</span>off<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>server <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    listen <span class=\"token number\">80</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    listen <span class=\"token punctuation\">[</span>::<span class=\"token punctuation\">]</span>:80<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    server_name 你的域名<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"26\"></td><td><pre></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token comment\"># For SSL domain validation</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    root /var/www/html<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    location /.well-known/acme-challenge/ <span class=\"token punctuation\">&#123;</span> allow all<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    location /.well-known/pki-validation/ <span class=\"token punctuation\">&#123;</span> allow all<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    location / <span class=\"token punctuation\">&#123;</span> <span class=\"token builtin class-name\">return</span> <span class=\"token number\">301</span> https://<span class=\"token variable\">$server_name</span><span class=\"token variable\">$request_uri</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre></pre></td></tr><tr><td data-num=\"37\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"40\"></td><td><pre></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>server <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>    listen <span class=\"token number\">443</span> ssl http2<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>    listen <span class=\"token punctuation\">[</span>::<span class=\"token punctuation\">]</span>:443 ssl http2<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>    server_name 你的域名<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"50\"></td><td><pre></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>    ssl_session_timeout 1d<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>    ssl_session_cache shared:ssl_session_cache:10m<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>    ssl_session_tickets off<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"58\"></td><td><pre></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>    <span class=\"token comment\"># To use Let's Encrypt certificate</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>    ssl_certificate /etc/letsencrypt/live/你的域名/fullchain.pem<span class=\"token punctuation\">;</span> <span class=\"token comment\"># managed by Certbot</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>    ssl_certificate_key /etc/letsencrypt/live/你的域名/privkey.pem<span class=\"token punctuation\">;</span> <span class=\"token comment\"># managed by Certbot</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"66\"></td><td><pre></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>    <span class=\"token comment\"># To use Debian/Ubuntu's self-signed certificate (For testing or before issuing a certificate)</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>    <span class=\"token comment\">#ssl_certificate     /etc/ssl/certs/ssl-cert-snakeoil.pem;</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>    <span class=\"token comment\">#ssl_certificate_key /etc/ssl/private/ssl-cert-snakeoil.key;</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"74\"></td><td><pre></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>    <span class=\"token comment\"># SSL protocol settings</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>    ssl_protocols TLSv1.2 TLSv1.3<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>    ssl_ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>    ssl_prefer_server_ciphers off<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre></pre></td></tr><tr><td data-num=\"83\"></td><td><pre>    ssl_stapling on<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"84\"></td><td><pre></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>    ssl_stapling_verify on<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"88\"></td><td><pre></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>    <span class=\"token comment\"># Change to your upload limit</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre></pre></td></tr><tr><td data-num=\"91\"></td><td><pre>    client_max_body_size 80m<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"92\"></td><td><pre></pre></td></tr><tr><td data-num=\"93\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"94\"></td><td><pre></pre></td></tr><tr><td data-num=\"95\"></td><td><pre>    <span class=\"token comment\"># Proxy to Node</span></pre></td></tr><tr><td data-num=\"96\"></td><td><pre></pre></td></tr><tr><td data-num=\"97\"></td><td><pre>    location / <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"98\"></td><td><pre></pre></td></tr><tr><td data-num=\"99\"></td><td><pre>        proxy_pass http://127.0.0.1:6110<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"100\"></td><td><pre></pre></td></tr><tr><td data-num=\"101\"></td><td><pre>        proxy_set_header Host <span class=\"token variable\">$host</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"102\"></td><td><pre></pre></td></tr><tr><td data-num=\"103\"></td><td><pre>        proxy_http_version <span class=\"token number\">1.1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"104\"></td><td><pre></pre></td></tr><tr><td data-num=\"105\"></td><td><pre>        proxy_redirect off<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"106\"></td><td><pre></pre></td></tr><tr><td data-num=\"107\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"108\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"109\"></td><td><pre></pre></td></tr><tr><td data-num=\"110\"></td><td><pre>        <span class=\"token comment\"># For WebSocket</span></pre></td></tr><tr><td data-num=\"111\"></td><td><pre></pre></td></tr><tr><td data-num=\"112\"></td><td><pre>        proxy_set_header Upgrade <span class=\"token variable\">$http_upgrade</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"113\"></td><td><pre></pre></td></tr><tr><td data-num=\"114\"></td><td><pre>        proxy_set_header Connection <span class=\"token variable\">$connection_upgrade</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"115\"></td><td><pre></pre></td></tr><tr><td data-num=\"116\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"117\"></td><td><pre></pre></td></tr><tr><td data-num=\"118\"></td><td><pre>        <span class=\"token comment\"># Cache settings</span></pre></td></tr><tr><td data-num=\"119\"></td><td><pre></pre></td></tr><tr><td data-num=\"120\"></td><td><pre>        proxy_cache cache2<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"121\"></td><td><pre></pre></td></tr><tr><td data-num=\"122\"></td><td><pre>        proxy_cache_lock on<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"123\"></td><td><pre></pre></td></tr><tr><td data-num=\"124\"></td><td><pre>        proxy_cache_use_stale updating<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"125\"></td><td><pre></pre></td></tr><tr><td data-num=\"126\"></td><td><pre>        proxy_force_ranges on<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"127\"></td><td><pre></pre></td></tr><tr><td data-num=\"128\"></td><td><pre>        add_header X-Cache <span class=\"token variable\">$upstream_cache_status</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"129\"></td><td><pre></pre></td></tr><tr><td data-num=\"130\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"131\"></td><td><pre></pre></td></tr><tr><td data-num=\"132\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"133\"></td><td><pre></pre></td></tr><tr><td data-num=\"134\"></td><td><pre><span class=\"token comment\">#1location =/robots.txt &#123;</span></pre></td></tr><tr><td data-num=\"135\"></td><td><pre></pre></td></tr><tr><td data-num=\"136\"></td><td><pre><span class=\"token comment\">#2    default_type text/html;</span></pre></td></tr><tr><td data-num=\"137\"></td><td><pre></pre></td></tr><tr><td data-num=\"138\"></td><td><pre><span class=\"token comment\">#3    add_header Content-Type \"text/plain; charset=UTF-8\";</span></pre></td></tr><tr><td data-num=\"139\"></td><td><pre></pre></td></tr><tr><td data-num=\"140\"></td><td><pre><span class=\"token comment\">#4    return 200 \"User-agent: *\\nDisallow: /\\n\";</span></pre></td></tr><tr><td data-num=\"141\"></td><td><pre></pre></td></tr><tr><td data-num=\"142\"></td><td><pre><span class=\"token comment\">#5&#125;</span></pre></td></tr><tr><td data-num=\"143\"></td><td><pre></pre></td></tr><tr><td data-num=\"144\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"145\"></td><td><pre></pre></td></tr><tr><td data-num=\"146\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p><strong>注意：</strong></p>\n<ol>\n<li>我修改了缓存地址，否则会和原来 Misskey 的缓存地址冲突：proxy_cache_path /tmp/nginx_cache_firefish</li>\n<li>将 cache1 改为了 cache2，共 2 处。</li>\n<li>端口号要和 docker-compose.yml 和 default.yml 的一致。</li>\n<li>需要修改 <code>你的域名</code> ，共 4 处。</li>\n</ol>\n<p>获取完证书和配置好 Nginx 文件之后，试着测试一下： <code>nginx -t</code> , 没有问题的话便是重载和重启 Nginx：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>nginx <span class=\"token parameter variable\">-s</span> reload</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>systemctl restart nginx</pre></td></tr></table></figure><p>（如果是第一次使用 Nginx 的话，不是 restart 而是 start）</p>\n<h1 id=\"痛苦的排错之路\"><a class=\"anchor\" href=\"#痛苦的排错之路\">#</a> 痛苦的排错之路</h1>\n<p>作为一个小白搭建实例免不了一路红灯 <s>（说的就是 error 呜呜）</s> ，总结了一下，出错原因要么是容器里的服务没有跑起来要么就是 Nginx 搞错了。</p>\n<ol>\n<li>Docker 容器</li>\n</ol>\n<ul>\n<li>首先 restart 一下容器： <code>docker-compose restart</code> ，这是解决 <code>502 error</code>  最好的办法 <s>（大佬说的）</s> 。</li>\n<li>然后看看 <code>docker ps</code>  里面的服务是不是都 up 了。没有的话可能就是配置错了，回去改改配置，最后 <code>docker-compose up -d</code>  来更新容器。</li>\n<li>实在不行，就通过 <code>docker compose logs web -f --tail 100</code>  来查看日志。</li>\n</ul>\n<ol start=\"2\">\n<li>Nginx 反代</li>\n</ol>\n<ul>\n<li>如果是 <code>502 error</code>  的话，如上所说先试试 <code>docker-compose restart</code> 。</li>\n<li>如果不行或是其他错误，先用 <code>nginx -t</code>  看看是否成功，没有成功的话可能就是配置文件写错了，注意<strong>端口号</strong>等等。</li>\n<li>test 没有问题的话，再看看 nginx 的 status： <code>sudo systemctl status nginx</code> 。</li>\n<li>清理缓存，再用 <code>service nginx reload</code>  重载，然后 <code>systemctl restart nginx</code>  重启。</li>\n</ul>\n<ol start=\"3\">\n<li>其他<br />\n可以用 <code>curl -v http://localhost:端口号</code> 看能不能拉取到信息。</li>\n</ol>\n<h1 id=\"参考资料\"><a class=\"anchor\" href=\"#参考资料\">#</a> 参考资料</h1>\n<p><div class=\"links\"><div class=\"item\" title=\"Tom Funken\"><span class=\"exturl image\" data-url=\"aHR0cHM6Ly9naXQuam9pbmZpcmVmaXNoLm9yZy9maXJlZmlzaC9maXJlZmlzaC8tL2Jsb2IvZGV2ZWxvcC9kb2NzL2RvY2tlci5tZD9yZWZfdHlwZT1oZWFkcw==\" data-background-image=\"/assets/firefish.svg\"></span>\n          <div class=\"info\">\n          <span class=\"exturl title\" data-url=\"aHR0cHM6Ly9naXQuam9pbmZpcmVmaXNoLm9yZy9maXJlZmlzaC9maXJlZmlzaC8tL2Jsb2IvZGV2ZWxvcC9kb2NzL2RvY2tlci5tZD9yZWZfdHlwZT1oZWFkcw==\">docker.md</span>\n          <p class=\"desc\">官方文档</p>\n          </div></div></div></p>\n",
            "tags": [
                "学习笔记",
                "Fediverse",
                "Firefish",
                "Dokcer"
            ]
        },
        {
            "id": "https://nanakumo.github.io/2023/05/02/%E5%A6%82%E4%BD%95%E7%94%A8%E7%BB%9F%E8%AE%A1%E8%BD%AF%E4%BB%B6%E8%BF%9B%E8%A1%8C%E5%9B%9E%E5%BD%92%E5%88%86%E6%9E%90/",
            "url": "https://nanakumo.github.io/2023/05/02/%E5%A6%82%E4%BD%95%E7%94%A8%E7%BB%9F%E8%AE%A1%E8%BD%AF%E4%BB%B6%E8%BF%9B%E8%A1%8C%E5%9B%9E%E5%BD%92%E5%88%86%E6%9E%90/",
            "title": "回归分析 | Python 和 Stata",
            "date_published": "2023-05-02T06:38:26.496Z",
            "content_html": "<p>是极其潦草的学习笔记 w</p>\n<p><span id=\"more\"></span></p>\n<h1 id=\"python篇\"><a class=\"anchor\" href=\"#python篇\">#</a> Python 篇</h1>\n<h2 id=\"package的准备\"><a class=\"anchor\" href=\"#package的准备\">#</a> package 的准备</h2>\n<ol>\n<li>pandas</li>\n<li>statsmodels</li>\n<li>openpyxl</li>\n</ol>\n<h2 id=\"读取文件\"><a class=\"anchor\" href=\"#读取文件\">#</a> 读取文件</h2>\n<ol>\n<li>要指定好文件的路径</li>\n<li>最好使用 <code>names=['x','y']</code>  来指定<strong>说明变量</strong>和<strong>目标变量</strong>。</li>\n</ol>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>file_pass <span class=\"token operator\">=</span> <span class=\"token string\">r\"D:\\python\\data.xlsx\"</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>df <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>read_excel<span class=\"token punctuation\">(</span>file_pass<span class=\"token punctuation\">,</span> header<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> names<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">'cost'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'sales'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> statsmodels<span class=\"token punctuation\">.</span>formula<span class=\"token punctuation\">.</span>api <span class=\"token keyword\">as</span> smf</pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>model <span class=\"token operator\">=</span> smf<span class=\"token punctuation\">.</span>ols<span class=\"token punctuation\">(</span><span class=\"token string\">'sales ~ cost'</span><span class=\"token punctuation\">,</span> data<span class=\"token operator\">=</span>df<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>result <span class=\"token operator\">=</span> model<span class=\"token punctuation\">.</span>fit<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>summary<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p><strong>输出结果为：</strong></p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>OLS Regression Results                            </pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>Dep<span class=\"token punctuation\">.</span> Variable<span class=\"token punctuation\">:</span>                  sales   R<span class=\"token operator\">-</span>squared<span class=\"token punctuation\">:</span>                       <span class=\"token number\">1.000</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>Model<span class=\"token punctuation\">:</span>                            OLS   Adj<span class=\"token punctuation\">.</span> R<span class=\"token operator\">-</span>squared<span class=\"token punctuation\">:</span>                  <span class=\"token number\">1.000</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>Method<span class=\"token punctuation\">:</span>                 Least Squares   F<span class=\"token operator\">-</span>statistic<span class=\"token punctuation\">:</span>                 <span class=\"token number\">1.981e+31</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>Date<span class=\"token punctuation\">:</span>                Tue<span class=\"token punctuation\">,</span> <span class=\"token number\">02</span> May <span class=\"token number\">2023</span>   Prob <span class=\"token punctuation\">(</span>F<span class=\"token operator\">-</span>statistic<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>           <span class=\"token number\">2.50e-47</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>Time<span class=\"token punctuation\">:</span>                        <span class=\"token number\">14</span><span class=\"token punctuation\">:</span><span class=\"token number\">12</span><span class=\"token punctuation\">:</span><span class=\"token number\">47</span>   Log<span class=\"token operator\">-</span>Likelihood<span class=\"token punctuation\">:</span>                 <span class=\"token number\">153.61</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>No<span class=\"token punctuation\">.</span> Observations<span class=\"token punctuation\">:</span>                   <span class=\"token number\">5</span>   AIC<span class=\"token punctuation\">:</span>                            <span class=\"token operator\">-</span><span class=\"token number\">303.2</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>Df Residuals<span class=\"token punctuation\">:</span>                       <span class=\"token number\">3</span>   BIC<span class=\"token punctuation\">:</span>                            <span class=\"token operator\">-</span><span class=\"token number\">304.0</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>Df Model<span class=\"token punctuation\">:</span>                           <span class=\"token number\">1</span>                                         </pre></td></tr><tr><td data-num=\"11\"></td><td><pre>Covariance Type<span class=\"token punctuation\">:</span>            nonrobust                                         </pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>                 coef    std err          t      P<span class=\"token operator\">></span><span class=\"token operator\">|</span>t<span class=\"token operator\">|</span>      <span class=\"token punctuation\">[</span><span class=\"token number\">0.025</span>      <span class=\"token number\">0.975</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>Intercept     <span class=\"token number\">10.0000</span>   <span class=\"token number\">1.49e-14</span>   <span class=\"token number\">6.71e+14</span>      <span class=\"token number\">0.000</span>      <span class=\"token number\">10.000</span>      <span class=\"token number\">10.000</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>cost           <span class=\"token number\">2.0000</span>   <span class=\"token number\">4.49e-16</span>   <span class=\"token number\">4.45e+15</span>      <span class=\"token number\">0.000</span>       <span class=\"token number\">2.000</span>       <span class=\"token number\">2.000</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>Omnibus<span class=\"token punctuation\">:</span>                          nan   Durbin<span class=\"token operator\">-</span>Watson<span class=\"token punctuation\">:</span>                   <span class=\"token number\">0.667</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>Prob<span class=\"token punctuation\">(</span>Omnibus<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>                    nan   Jarque<span class=\"token operator\">-</span>Bera <span class=\"token punctuation\">(</span>JB<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>                <span class=\"token number\">0.375</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>Skew<span class=\"token punctuation\">:</span>                          <span class=\"token operator\">-</span><span class=\"token number\">0.344</span>   Prob<span class=\"token punctuation\">(</span>JB<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>                        <span class=\"token number\">0.829</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>Kurtosis<span class=\"token punctuation\">:</span>                       <span class=\"token number\">1.847</span>   Cond<span class=\"token punctuation\">.</span> No<span class=\"token punctuation\">.</span>                         <span class=\"token number\">77.8</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span></pre></td></tr></table></figure><h1 id=\"stata篇\"><a class=\"anchor\" href=\"#stata篇\">#</a> Stata 篇</h1>\n<h2 id=\"简单使用stata\"><a class=\"anchor\" href=\"#简单使用stata\">#</a> 简单使用 Stata</h2>\n<ol>\n<li>Log in</li>\n<li>import data</li>\n<li>save as</li>\n<li>use data</li>\n</ol>\n<figure class=\"highlight stata\"><figcaption data-lang=\"stata\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token command keyword\">use</span> D<span class=\"token punctuation\">:</span>\\python\\data_回归分析.dta</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token command keyword\">regress</span> 売上高万円 広告費</pre></td></tr></table></figure><p>** 注意：** 使用的数据文件一定是.dta 格式，&lt;u&gt; 而这个必须要先导入数据后保存再得到。&lt;/u&gt;</p>\n<p><strong>输出：</strong></p>\n<pre><code class=\"language-Source\">-------------+----------------------------------   F(1, 3)         =         .\n       Model |        4000         1        4000   Prob &gt; F        =         .\n    Residual |           0         3           0   R-squared       =    1.0000\n-------------+----------------------------------   Adj R-squared   =    1.0000\n       Total |        4000         4        1000   Root MSE        =         0\n\n------------------------------------------------------------------------------\n  売上高万円 | Coefficient  Std. err.      t    P&gt;|t|     [95% conf. interval]\n-------------+----------------------------------------------------------------\n      広告費 |          2          .        .       .            .           .\n       _cons |         10          .        .       .            .           .\n------------------------------------------------------------------------------\n</code></pre>\n<h3 id=\"附录\"><a class=\"anchor\" href=\"#附录\">#</a> 附录</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">cost</th>\n<th>sales</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">10</td>\n<td>30</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">20</td>\n<td>50</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">30</td>\n<td>70</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">40</td>\n<td>90</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">50</td>\n<td>110</td>\n</tr>\n</tbody>\n</table>\n",
            "tags": [
                "学习笔记",
                "经济统计",
                "Python",
                "Stata"
            ]
        },
        {
            "id": "https://nanakumo.github.io/2023/03/23/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%85%A8%E8%AE%B0%E5%BD%95/",
            "url": "https://nanakumo.github.io/2023/03/23/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%85%A8%E8%AE%B0%E5%BD%95/",
            "title": "零基础小白的博客搭建全记录（GitHub+Hexo）",
            "date_published": "2023-03-23T10:11:37.739Z",
            "content_html": "<p>2023 年 3 月 23 日，小倖第一次成功<a href=\"https://nanakumo.github.io/\">通过 GitHub 搭好了 Hexo 的博客</a>。兴奋之余，也想要将这场历时两天的艰辛记录下来。如您所见，小倖是小白，故这篇<strong>不是技术帖！！！</strong><s>（其实更像是小倖的碎碎念啦）</s></p>\n<p><span id=\"more\"></span></p>\n<p>小倖真是踩了好多坑。因为 Vercel（一个开箱即用的网站托管平台）已经没有了 Hexo 的框架，因此没有办法懒人建站法 —— 一键通过 Vercel 建站了。小倖在网上也找了很多博客搭建方法，尝试过的有：</p>\n<ul>\n<li>Cloudflare Pages</li>\n<li>Github Pages</li>\n<li>Wordpress</li>\n<li>Vercel</li>\n</ul>\n<p>前两个是一直卡在网站发布上（即在本地查看没有问题，但无法在网页中显示）。Wordpress 是因为太笨重了遂放弃。小倖倒是通过 Vercel 建好了一个<span class=\"exturl\" data-url=\"aHR0cHM6Ly9odWdvLW5hbmFrdW1vLnZlcmNlbC5hcHAv\"> Hugo 的博客</span>，但如前言所说，Vercel 现在已经没有 Hexo 的框架了，因而在搭建 Hexo 博客上一直失败。</p>\n<p>** 补充：** 在网络上，通过 GitHub Pages 部署 Hexo 站点的办法大致分成两种。一种是将本地代码 Push 到远程仓后，在相应 Repo 的 Settings 中找到 Pages，部署是在那里完成的；另一种是通过 <code>hexo d</code>  命令来部署。前者小倖一直失败，后者倒是几乎毫无障碍地建成了，遂推荐。</p>\n<p><s>（为什么小倖一定要一个 Hexo 的博客呢？还不是因为 Hexo Themes 有很多很好看的主题嘛。）</s></p>\n<p>总之，小倖现在终于能够拥有一个可爱的博客啦，很开心☆*: .｡. o (≧▽≦) o .｡.:*☆☆*: .｡</p>\n<h2 id=\"博客搭建\"><a class=\"anchor\" href=\"#博客搭建\">#</a> 博客搭建</h2>\n<h3 id=\"1-初识hexo\"><a class=\"anchor\" href=\"#1-初识hexo\">#</a> 1. 初识 Hexo</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvLw==\">Hexo</span> 是友邻推荐给小倖的，小倖也经常在各个地方看到，当然最主要是主题很好看啦，遂采用。Hexo 对于小倖来说有如下几个优点：</p>\n<ul>\n<li>发布方便\n<ul>\n<li>只需要在 Git Bash 中敲几行代码即可部署到 Github Pages 等平台上。</li>\n</ul>\n</li>\n<li>支持 Markdown\n<ul>\n<li>虽然几乎现在所有的平台都支持啦。</li>\n</ul>\n</li>\n<li>海量主题任君挑选\n<ul>\n<li>这才是最重要的嘛！</li>\n</ul>\n</li>\n</ul>\n<p>总之，Hexo 最高！</p>\n<h3 id=\"2-准备工作环境布置\"><a class=\"anchor\" href=\"#2-准备工作环境布置\">#</a> 2. 准备工作：环境布置</h3>\n<p>想要将通过 Hexo 布置站点，首先需要布置 <code>Node.js</code>  和 <code>Git</code>  环境。</p>\n<p>这一步不难，只要进入各自的官网中下载就可以了。</p>\n<p>Node.js 下载：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ub2RlanMub3JnL2VuL2Rvd25sb2Fk\">https://nodejs.org/en/download</span><br />\nGit 下载：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXQtc2NtLmNvbS9kb3dubG9hZHM=\">https://git-scm.com/downloads</span></p>\n<p>如何检验自己是否成功安装呢？可在 Git Bash 中输入如下命令：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> version</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">node</span> <span class=\"token parameter variable\">-v</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">npm</span> <span class=\"token parameter variable\">-v</span></pre></td></tr></table></figure><p>如果能够出现对应的版本号，则说明安装完成。接下来就可以进入 Hexo 的安装阶段啦。</p>\n<h3 id=\"3-安装hexo\"><a class=\"anchor\" href=\"#3-安装hexo\">#</a> 3. 安装 Hexo</h3>\n<p>这一步也很简单，只需要敲入如下命令：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">npm</span> <span class=\"token function\">install</span> <span class=\"token parameter variable\">-g</span> hexo-cli        <span class=\"token comment\">#安装 Hexo</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>hexo init <span class=\"token operator\">&lt;</span>文件夹名<span class=\"token operator\">></span>            <span class=\"token comment\">#创建文件夹并初始化</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token builtin class-name\">cd</span>  <span class=\"token operator\">&lt;</span>文件夹名<span class=\"token operator\">></span>                  <span class=\"token comment\">#进入该文件夹</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">npm</span> <span class=\"token function\">install</span>                    <span class=\"token comment\">#导入文件</span></pre></td></tr></table></figure><p>这样就会得到包含配置文件 <code>_config.yml</code>  的文件夹啦。你可以在该文件里个性化自己的网站。</p>\n<p>其实这样就算建好了一个很简陋的站，如何查看自己的站到底长什么样子呢？可通过运行以下命令：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#注意：都要在根目录下进行</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>hexo cl                        <span class=\"token comment\">#清理缓存</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>hexo g                         <span class=\"token comment\">#产生静态档案</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>hexo s                         <span class=\"token comment\">#启动服务器</span></pre></td></tr></table></figure><p>运行完之后，就可以通过 <code>http://localhost:4000</code>  来查看自己的站点啦。不过这时候只是在本地查看，还没有布置在网络上哦。因此接下来就是 ——</p>\n<h3 id=\"4-将hexo博客部署到github-pages上\"><a class=\"anchor\" href=\"#4-将hexo博客部署到github-pages上\">#</a> 4. 将 Hexo 博客部署到 Github Pages 上</h3>\n<p>在这一步中，你首先需要拥有一个 GitHub 账号，然后建一个 repo。这一步十分简单，就不多赘述了。建好 repo 之后，建议设置一个 <code>SSH密钥</code> ，以便通过 SSH<strong> 连接</strong> GitHub，而不必总是输入你的用户名和密码。</p>\n<p>那么，接下来就试着运行以下代码吧：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#首先，让你的笔记本电脑知道你将使用哪个 GitHub 账户</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">git</span> config <span class=\"token parameter variable\">--global</span> user.name <span class=\"token string\">\"GitHub账户名\"</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">git</span> config <span class=\"token parameter variable\">--global</span> user.email <span class=\"token string\">\"GitHub注册邮箱\"</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">#产生一个 SSH 密钥对</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>ssh-keygen <span class=\"token parameter variable\">-t</span> rsa <span class=\"token parameter variable\">-C</span> <span class=\"token string\">\"GitHub注册邮箱\"</span></pre></td></tr></table></figure><p>运行过程中，电脑会问你要将 SSH 密钥保存在哪个文件夹里，紧接着，你就可以在那个文件夹里看到 <code>id_rsa.pub</code>  这个文件啦。打开它，将内容复制到你的 GitHub 中。</p>\n<blockquote>\n<p>具体方法：在 GitHub 的 <code>settings</code>  中找到 <code>SSH and GPG keys</code> ，打开它，然后新建一个 SSH Key，将剪切板的内容粘贴进去，就大功告成啦！</p>\n</blockquote>\n<p>在让你的笔记本知道你将使用哪个 GitHub 账户之后，还需要让你的 Hexo 站点知道你使用的是哪一个 repo 。操作方法就是打开网站的配置文件  <code>_config.yml</code>  ，找到  <code>deploy</code>  行（一般是在最末），将其修改成以下内容：</p>\n<figure class=\"highlight raw\"><figcaption data-lang=\"\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>deploy:</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  type: git</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  repo: 你的仓库链接，通常的格式为 https:&#x2F;&#x2F;github.com&#x2F; 账户名 &#x2F; 仓库名.github.io.git</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  branch: master</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  message: &quot;&#123;&#123; now \\(&#39;YYYY-MM-DD HH:mm:ss&#39; \\) &#125; &#125;&quot;</pre></td></tr></table></figure><blockquote>\n<p>不过，如果要使用 GitHub Pages，仓库名必须与账户名一致，详情见<span class=\"exturl\" data-url=\"aHR0cHM6Ly9kb2NzLmdpdGh1Yi5jb20vZW4vcGFnZXMvZ2V0dGluZy1zdGFydGVkLXdpdGgtZ2l0aHViLXBhZ2VzL2NyZWF0aW5nLWEtZ2l0aHViLXBhZ2VzLXNpdGU=\">官方文档</span>。</p>\n</blockquote>\n<p>接下来，就是通过 <code>hexo d</code>  命令来将 Hexo 站点部署到 GitHub Pages 上啦，不过在此之前，需要下载一个 <code>deploy tool</code> 。请在你的 Git Bash 输入 <code>npm install hexo-deployer-git --save</code> 。安装完之后，再键入 <code>hexo d</code> 。恭喜你，你的站点能被大家访问了。</p>\n<h3 id=\"5-博客装修\"><a class=\"anchor\" href=\"#5-博客装修\">#</a> 5. 博客装修</h3>\n<h4 id=\"51-安装主题文件\"><a class=\"anchor\" href=\"#51-安装主题文件\">#</a> 5.1 安装主题文件</h4>\n<p>如前文所说，目前这个站点还很简陋，因此就到了最<s>激动人心</s>的时刻 —— 网站装修！请尽情在<span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL3RoZW1lcy8=\"> Hexo Themes</span> 中寻找一款自己心水的主题吧。</p>\n<p>具体的安装方法请详见各自主题文件夹中的 <code>README.md</code>  文件，一般步骤为：先将主题文件夹克隆至本地仓，然后修改网站配置文件 <code>_config.yml</code>  中的 <code>theme</code>  行: <code>theme: your_theme</code> 。</p>\n<h4 id=\"52-修改具体配置\"><a class=\"anchor\" href=\"#52-修改具体配置\">#</a> 5.2 修改具体配置</h4>\n<p>如果你想个性化你的网站，请在主题文件中的 <code>_config.yml</code>  里修改吧。比如为你的网站增添 <code>social link</code> ，还可以为你的网站添加头像和背景图。</p>\n<h4 id=\"53-增加标签-目录等页面\"><a class=\"anchor\" href=\"#53-增加标签-目录等页面\">#</a> 5.3 增加标签、目录等页面</h4>\n<p>如果你希望你的文章能够自动归档在对应的页面之下，大多数情况下是需要进行一些设置的。</p>\n<p>一般而言，你的主题配置文件中应当是包含以下行的：</p>\n<figure class=\"highlight yml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">menu</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token key atrule\">Home</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> house</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token key atrule\">theme</span><span class=\"token punctuation\">:</span> solid</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token key atrule\">link</span><span class=\"token punctuation\">:</span> /</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token key atrule\">About</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> id<span class=\"token punctuation\">-</span>card</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token key atrule\">theme</span><span class=\"token punctuation\">:</span> solid</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token key atrule\">link</span><span class=\"token punctuation\">:</span> /about</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token key atrule\">Archives</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> box<span class=\"token punctuation\">-</span>archive</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token key atrule\">theme</span><span class=\"token punctuation\">:</span> solid</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token key atrule\">link</span><span class=\"token punctuation\">:</span> /archives</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token key atrule\">Categories</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> bookmark</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token key atrule\">theme</span><span class=\"token punctuation\">:</span> solid</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token key atrule\">link</span><span class=\"token punctuation\">:</span> /categories</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token key atrule\">Tags</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> tags</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token key atrule\">theme</span><span class=\"token punctuation\">:</span> solid</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token key atrule\">link</span><span class=\"token punctuation\">:</span> /tags</pre></td></tr></table></figure><p>如果有的话，那就没有关系，没有的话，还需要自己添加。</p>\n<p>接下来，就是替你的网站创建对应的页面，具体操作是在 Git Bash 中敲下：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>hexo new page tags</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>hexo new page categories</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>hexo new page about</pre></td></tr></table></figure><p>接下来，你就会惊奇地发现，在 <code>source</code>  文件夹之下，不仅有了对应的文件夹，里面还各自都有 <code>index.md</code>  文件！请挨个打开它，然后在文件的最后一行填上 <code>type: ''</code> 。例如，在 tags 的 <code>index.md</code>  中应当填入以下内容：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>---</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>title: tags</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>date: <span class=\"token number\">2023</span>-03-23 <span class=\"token number\">18</span>:50:30</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>type: <span class=\"token string\">'tags'</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>---</pre></td></tr></table></figure><p>设置好之后，只需要在你的文章中使用<span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3MvZnJvbnQtbWF0dGVy\"> Front-matter</span> 就好啦。例如：</p>\n<pre><code>---\ntitle: 零基础小白的博客搭建全记录（GitHub+Hexo）\ncategories: 今天敲点什么代码呢\ntags: [博客,hexo,github]\n---\n</code></pre>\n<h4 id=\"54-使用-more-让博客页面更简洁\"><a class=\"anchor\" href=\"#54-使用-more-让博客页面更简洁\">#</a> 5.4 使用！-- more -- 让博客页面更简洁</h4>\n<p>由于很多主题的网页浏览都是直接全文显示的，这种时候会让你的网站显得笨重。那么 <code>!-- more --</code>  就会将其变得简洁！可以参照这篇博文：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuamlhbnNodS5jb20vcC83OGMyMThmOWQxZTc=\">https://www.jianshu.com/p/78c218f9d1e7</span></p>\n<h4 id=\"55-为你的博客开启评论功能吧\"><a class=\"anchor\" href=\"#55-为你的博客开启评论功能吧\">#</a> 5.5 为你的博客开启评论功能吧</h4>\n<p>目前的评论的系统有很多，大概有：</p>\n<ul>\n<li>Gitalk</li>\n<li>Giscus</li>\n<li>Waline</li>\n<li>Twikoo</li>\n</ul>\n<p>小倖使用的是<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXNjdXMuYXBwLw==\"> Giscus</span>。可以直接在官方文档上面设置，不过有一些前提条件和准备工作：</p>\n<ol>\n<li>repo 必须是公开的。</li>\n<li>安装<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2FwcHMvZ2lzY3Vz\"> giscus app</span>。</li>\n<li>为你的 repo<span class=\"exturl\" data-url=\"aHR0cHM6Ly9kb2NzLmdpdGh1Yi5jb20vZW4vcmVwb3NpdG9yaWVzL21hbmFnaW5nLXlvdXItcmVwb3NpdG9yeXMtc2V0dGluZ3MtYW5kLWZlYXR1cmVzL2VuYWJsaW5nLWZlYXR1cmVzLWZvci15b3VyLXJlcG9zaXRvcnkvZW5hYmxpbmctb3ItZGlzYWJsaW5nLWdpdGh1Yi1kaXNjdXNzaW9ucy1mb3ItYS1yZXBvc2l0b3J5\"> 启用 Discussions 功能</span>。</li>\n</ol>\n<p>一步一步跟着<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXNjdXMuYXBwLw==\">官方文档</span>来，最后就会到达 <code>启用giscus</code>  这一步。你将会得到如下字段：</p>\n<figure class=\"highlight yml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>src=\"https<span class=\"token punctuation\">:</span>//giscus.app/client.js\"</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>        data<span class=\"token punctuation\">-</span>repo=\"<span class=\"token punctuation\">[</span>ENTER REPO HERE<span class=\"token punctuation\">]</span>\"</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        data<span class=\"token punctuation\">-</span>repo<span class=\"token punctuation\">-</span>id=\"<span class=\"token punctuation\">[</span>ENTER REPO ID HERE<span class=\"token punctuation\">]</span>\"</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        data<span class=\"token punctuation\">-</span>category=\"<span class=\"token punctuation\">[</span>ENTER CATEGORY NAME HERE<span class=\"token punctuation\">]</span>\"</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        data<span class=\"token punctuation\">-</span>category<span class=\"token punctuation\">-</span>id=\"<span class=\"token punctuation\">[</span>ENTER CATEGORY ID HERE<span class=\"token punctuation\">]</span>\"</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        data<span class=\"token punctuation\">-</span>mapping=\"pathname\"</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        data<span class=\"token punctuation\">-</span>strict=\"0\"</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        data<span class=\"token punctuation\">-</span>reactions<span class=\"token punctuation\">-</span>enabled=\"1\"</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        data<span class=\"token punctuation\">-</span>emit<span class=\"token punctuation\">-</span>metadata=\"0\"</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        data<span class=\"token punctuation\">-</span>input<span class=\"token punctuation\">-</span>position=\"bottom\"</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        data<span class=\"token punctuation\">-</span>theme=\"light\"</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        data<span class=\"token punctuation\">-</span>lang=\"en\"</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        crossorigin=\"anonymous\"</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        async<span class=\"token punctuation\">></span></pre></td></tr></table></figure><p>然后将其写入你的主题配置文件 <code>_config.yml</code>  中即可！小倖是这样写的：</p>\n<figure class=\"highlight yml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">giscus</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token key atrule\">src</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//giscus.app/client.js</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token key atrule\">repo</span><span class=\"token punctuation\">:</span> nanakumo/nanakumo.github.io</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token key atrule\">repoID</span><span class=\"token punctuation\">:</span> </pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token key atrule\">category</span><span class=\"token punctuation\">:</span> </pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token key atrule\">categoryID</span><span class=\"token punctuation\">:</span> </pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token key atrule\">mapping</span><span class=\"token punctuation\">:</span> pathname</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token key atrule\">strict</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token key atrule\">reactionsEnabled</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token key atrule\">emitMetadata</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token key atrule\">inputPosition</span><span class=\"token punctuation\">:</span> bottom</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token key atrule\">theme</span><span class=\"token punctuation\">:</span> cobalt</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token key atrule\">lang</span><span class=\"token punctuation\">:</span> zh<span class=\"token punctuation\">-</span>CN</pre></td></tr></table></figure><h2 id=\"写在最后的话\"><a class=\"anchor\" href=\"#写在最后的话\">#</a> 写在最后的话</h2>\n<blockquote>\n<p>至此，你就可以享受你的博客之旅啦。请记住，每次在本地修改完之后，请一定要 <code>hexo g &amp;&amp; hexo d</code>  噢！</p>\n</blockquote>\n",
            "tags": [
                "一些有的没的",
                "博客",
                "hexo",
                "github"
            ]
        }
    ]
}