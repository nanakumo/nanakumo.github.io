{
    "version": "https://jsonfeed.org/version/1",
    "title": "この夏に🎇 • All posts by \"python\" tag",
    "description": "欢迎来到小倖的世界",
    "home_page_url": "https://nanakumo.github.io",
    "items": [
        {
            "id": "https://nanakumo.github.io/2023/05/02/%E5%A6%82%E4%BD%95%E7%94%A8%E7%BB%9F%E8%AE%A1%E8%BD%AF%E4%BB%B6%E8%BF%9B%E8%A1%8C%E5%9B%9E%E5%BD%92%E5%88%86%E6%9E%90/",
            "url": "https://nanakumo.github.io/2023/05/02/%E5%A6%82%E4%BD%95%E7%94%A8%E7%BB%9F%E8%AE%A1%E8%BD%AF%E4%BB%B6%E8%BF%9B%E8%A1%8C%E5%9B%9E%E5%BD%92%E5%88%86%E6%9E%90/",
            "title": "如何用统计软件进行简单的回归分析",
            "date_published": "2023-05-02T06:38:26.496Z",
            "content_html": "<p>是极其潦草的学习笔记 w</p>\n<p><span id=\"more\"></span></p>\n<h1 id=\"python篇\"><a class=\"anchor\" href=\"#python篇\">#</a> Python 篇</h1>\n<h2 id=\"package的准备\"><a class=\"anchor\" href=\"#package的准备\">#</a> package 的准备</h2>\n<ol>\n<li>pandas</li>\n<li>statsmodels</li>\n<li>openpyxl</li>\n</ol>\n<h2 id=\"读取文件\"><a class=\"anchor\" href=\"#读取文件\">#</a> 读取文件</h2>\n<ol>\n<li>要指定好文件的路径</li>\n<li>最好使用 <code>names=['x','y']</code>  来指定<strong>说明变量</strong>和<strong>目标变量</strong>。</li>\n</ol>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>file_pass <span class=\"token operator\">=</span> <span class=\"token string\">r\"D:\\python\\data.xlsx\"</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>df <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>read_excel<span class=\"token punctuation\">(</span>file_pass<span class=\"token punctuation\">,</span> header<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> names<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">'cost'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'sales'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> statsmodels<span class=\"token punctuation\">.</span>formula<span class=\"token punctuation\">.</span>api <span class=\"token keyword\">as</span> smf</pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>model <span class=\"token operator\">=</span> smf<span class=\"token punctuation\">.</span>ols<span class=\"token punctuation\">(</span><span class=\"token string\">'sales ~ cost'</span><span class=\"token punctuation\">,</span> data<span class=\"token operator\">=</span>df<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>result <span class=\"token operator\">=</span> model<span class=\"token punctuation\">.</span>fit<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>summary<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p><strong>输出结果为：</strong></p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>OLS Regression Results                            </pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>Dep<span class=\"token punctuation\">.</span> Variable<span class=\"token punctuation\">:</span>                  sales   R<span class=\"token operator\">-</span>squared<span class=\"token punctuation\">:</span>                       <span class=\"token number\">1.000</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>Model<span class=\"token punctuation\">:</span>                            OLS   Adj<span class=\"token punctuation\">.</span> R<span class=\"token operator\">-</span>squared<span class=\"token punctuation\">:</span>                  <span class=\"token number\">1.000</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>Method<span class=\"token punctuation\">:</span>                 Least Squares   F<span class=\"token operator\">-</span>statistic<span class=\"token punctuation\">:</span>                 <span class=\"token number\">1.981e+31</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>Date<span class=\"token punctuation\">:</span>                Tue<span class=\"token punctuation\">,</span> <span class=\"token number\">02</span> May <span class=\"token number\">2023</span>   Prob <span class=\"token punctuation\">(</span>F<span class=\"token operator\">-</span>statistic<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>           <span class=\"token number\">2.50e-47</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>Time<span class=\"token punctuation\">:</span>                        <span class=\"token number\">14</span><span class=\"token punctuation\">:</span><span class=\"token number\">12</span><span class=\"token punctuation\">:</span><span class=\"token number\">47</span>   Log<span class=\"token operator\">-</span>Likelihood<span class=\"token punctuation\">:</span>                 <span class=\"token number\">153.61</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>No<span class=\"token punctuation\">.</span> Observations<span class=\"token punctuation\">:</span>                   <span class=\"token number\">5</span>   AIC<span class=\"token punctuation\">:</span>                            <span class=\"token operator\">-</span><span class=\"token number\">303.2</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>Df Residuals<span class=\"token punctuation\">:</span>                       <span class=\"token number\">3</span>   BIC<span class=\"token punctuation\">:</span>                            <span class=\"token operator\">-</span><span class=\"token number\">304.0</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>Df Model<span class=\"token punctuation\">:</span>                           <span class=\"token number\">1</span>                                         </pre></td></tr><tr><td data-num=\"11\"></td><td><pre>Covariance Type<span class=\"token punctuation\">:</span>            nonrobust                                         </pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>                 coef    std err          t      P<span class=\"token operator\">></span><span class=\"token operator\">|</span>t<span class=\"token operator\">|</span>      <span class=\"token punctuation\">[</span><span class=\"token number\">0.025</span>      <span class=\"token number\">0.975</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>Intercept     <span class=\"token number\">10.0000</span>   <span class=\"token number\">1.49e-14</span>   <span class=\"token number\">6.71e+14</span>      <span class=\"token number\">0.000</span>      <span class=\"token number\">10.000</span>      <span class=\"token number\">10.000</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>cost           <span class=\"token number\">2.0000</span>   <span class=\"token number\">4.49e-16</span>   <span class=\"token number\">4.45e+15</span>      <span class=\"token number\">0.000</span>       <span class=\"token number\">2.000</span>       <span class=\"token number\">2.000</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>Omnibus<span class=\"token punctuation\">:</span>                          nan   Durbin<span class=\"token operator\">-</span>Watson<span class=\"token punctuation\">:</span>                   <span class=\"token number\">0.667</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>Prob<span class=\"token punctuation\">(</span>Omnibus<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>                    nan   Jarque<span class=\"token operator\">-</span>Bera <span class=\"token punctuation\">(</span>JB<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>                <span class=\"token number\">0.375</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>Skew<span class=\"token punctuation\">:</span>                          <span class=\"token operator\">-</span><span class=\"token number\">0.344</span>   Prob<span class=\"token punctuation\">(</span>JB<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>                        <span class=\"token number\">0.829</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>Kurtosis<span class=\"token punctuation\">:</span>                       <span class=\"token number\">1.847</span>   Cond<span class=\"token punctuation\">.</span> No<span class=\"token punctuation\">.</span>                         <span class=\"token number\">77.8</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span></pre></td></tr></table></figure><h1 id=\"stata篇\"><a class=\"anchor\" href=\"#stata篇\">#</a> Stata 篇</h1>\n<h2 id=\"简单使用stata\"><a class=\"anchor\" href=\"#简单使用stata\">#</a> 简单使用 Stata</h2>\n<ol>\n<li>Log in</li>\n<li>import data</li>\n<li>save as</li>\n<li>use data</li>\n</ol>\n<figure class=\"highlight stata\"><figcaption data-lang=\"stata\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token command keyword\">use</span> D<span class=\"token punctuation\">:</span>\\python\\data_回归分析.dta</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token command keyword\">regress</span> 売上高万円 広告費</pre></td></tr></table></figure><p>** 注意：** 使用的数据文件一定是.dta 格式，&lt;u&gt; 而这个必须要先导入数据后保存再得到。&lt;/u&gt;</p>\n<p><strong>输出：</strong></p>\n<pre><code class=\"language-Source\">-------------+----------------------------------   F(1, 3)         =         .\n       Model |        4000         1        4000   Prob &gt; F        =         .\n    Residual |           0         3           0   R-squared       =    1.0000\n-------------+----------------------------------   Adj R-squared   =    1.0000\n       Total |        4000         4        1000   Root MSE        =         0\n\n------------------------------------------------------------------------------\n  売上高万円 | Coefficient  Std. err.      t    P&gt;|t|     [95% conf. interval]\n-------------+----------------------------------------------------------------\n      広告費 |          2          .        .       .            .           .\n       _cons |         10          .        .       .            .           .\n------------------------------------------------------------------------------\n</code></pre>\n<h3 id=\"附录\"><a class=\"anchor\" href=\"#附录\">#</a> 附录</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">cost</th>\n<th>sales</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">10</td>\n<td>30</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">20</td>\n<td>50</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">30</td>\n<td>70</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">40</td>\n<td>90</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">50</td>\n<td>110</td>\n</tr>\n</tbody>\n</table>\n",
            "tags": [
                "经济统计",
                "Python",
                "Stata"
            ]
        }
    ]
}